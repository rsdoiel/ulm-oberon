FTPTimerEvents(3)             Ulm's Oberon System            FTPTimerEvents(3)



[1mNAME[0m
       FTPTimerEvents - timeout event management for FTP sessions

[1mSYNOPSIS[0m
       CONST setTimeoutCmd = 0;
       CONST resetCmd = 1;
       CONST startTransferCmd = 2;
       CONST endOfTransferCmd = 3;
       TYPE Event = POINTER TO EventRec;
       TYPE EventRec =
             RECORD
                (Events.EventRec)
                cmd: SHORTINT; (* setTimeoutCmd .. endOfTransferCmd *)
                timeout: Times.Time;
             END;

       PROCEDURE GetEventType(session: FTPSessions.Session;
                              VAR eventType: Events.EventType);

       PROCEDURE SetTimeout(session: FTPSessions.Session; period: Times.Time);
       PROCEDURE Reset(session: FTPSessions.Session);
       PROCEDURE StartTransfer(session: FTPSessions.Session);
       PROCEDURE EndOfTransfer(session: FTPSessions.Session);


[1mDESCRIPTION[0m
       [4mFTPTimerEvents[24m  provides  an  event type and event generating shortcuts
       for the timeout management of a FTP session. It does not, however, pro-
       vide any event handlers. This is typically done by [4mFTPTimers(3)[24m.

   [1mNotifications[0m
       [4mSetTimeout[24m  is  usually  called during the initialization time of a FTP
       session and sets the  current  timeout  value  which  is  undefined  by
       default.

       [4mReset[24m  resets the current timer, if defined, to [1m0[22m. This operation is to
       be called when input from the FTP client is seen to measure the time of
       inactivity.

       Timeouts  should  not  hit  during  file transfers (either downloads or
       uploads) as the main network connection  remains  inactive  for  longer
       time.   [4mStartTransfer[24m and [4mEndOfTransfer[24m allow to signal such time peri-
       ods to the timeout management.

   [1mEvent Handling[0m
       Events are usually handled by a separate task that  handles  the  event
       type returned by [4mGetEventType[24m for a particular session object.  Follow-
       ing events are generated by the notification procedures:
       [4msetTimeoutCmd[24m      set timeout value to [4mtimeout[24m, which may  be  [1mNIL  [22mto
                          switch off timeouts.
       [4mresetCmd[24m           reset timer to [1m0[22m, if defined.
       [4mstartTransferCmd[24m   disable timer until [4mendOfTransferCmd[24m is encountered.
       [4mendOfTransferCmd[24m   re-enable timer, if defined.

       Event handling tasks should be aware of the termination of the  session
       object, see [4mResources(3)[24m.

[1mSEE ALSO[0m
       [4mFTPSessions(3)[24m   FTP session objects.
       [4mFTPTimers(3)[24m     standardized  event  handler  for  [4mFTPTimerEvents[24m that
                        terminates session objects in case of timeouts.



Release 0.5                Last change: 10 July 2003         FTPTimerEvents(3)
