


Times(3)               Ulm's Oberon System               Times(3)


NNAAMMEE
       Times - reference scale for time measuring systems

SSYYNNOOPPSSIISS
       CONST relative = Scales.relative;
       CONST absolute = Scales.absolute;
       TYPE Time = POINTER TO TimeRec;
       TYPE TimeRec = RECORD (Scales.MeasureRec) END;
       TYPE TimeValueRec =
          RECORD
             (Objects.ObjectRec)
             epoch: Scales.Value;
             second: Scales.Value;
             usec: Scales.Value;
          END;
       VAR scale: Scales.Scale; (* reference scale *)
       VAR family: Scales.Family; (* family of time scales *)

       PROCEDURE Create(VAR time: Time; type: SHORTINT);
       PROCEDURE CreateAndSet(VAR time: Time; type: SHORTINT;
                              epoch, second, usec: Scales.Value);
       PROCEDURE SetValue(time: Time; value: TimeValueRec);
       PROCEDURE GetValue(time: Time; VAR value: TimeValueRec);


DDEESSCCRRIIPPTTIIOONN
       _T_i_m_e_s is a reference scale implementation for time measur­
       ing systems.  _T_i_m_e_s is based upon _S_c_a_l_e_s_(_3_), _O_p_e_r_a_t_i_o_n_s_(_3_)
       and  _P_e_r_s_i_s_t_e_n_t_O_b_j_e_c_t_s_(_3_).  Its main use is to allow inde­
       pendence  from  a  particular  time  representation  while
       arithmetic and other operations are still possible.

       _T_i_m_e  serves  as  common base type of all time representa­
       tions.  While the measure type of _T_i_m_e_s is a  non-exported
       extension of _T_i_m_e the representation itself is exported as
       _T_i_m_e_V_a_l_u_e_R_e_c.  Absolute time measures are represented like
       relative measures but are to be interpreted to be relative
       to Jan. 1, 1970, 0:00 GMT.

       Measures of the reference time are given  in  non-negative
       seconds and microseconds.  Since this covers only about 68
       years, an epoch  has  been  added  to  allow  larger  time
       ranges.   Epoches  have  a length of MMAAXX(_S_c_a_l_e_s_._V_a_l_u_e) + 1
       seconds.  Negative epoches represent times before 1970 (in
       case  of  absolute  measures) or earlier times (in case of
       relative measures).

       The variables _s_c_a_l_e and _f_a_m_i_l_y  constitute  the  reference
       scale  and  the associated family.  The units of _s_c_a_l_e are
       "epoch", "second" and "usec".  They correspond to the com­
       ponents of _T_i_m_e_V_a_l_u_e_R_e_c.

       _C_r_e_a_t_e  creates and initializes a measure of the reference
       scale.  _C_r_e_a_t_e_A_n_d_S_e_t creates and initializes _t_i_m_e  to  the



Release 0.5       Last change: 13 September 1996                1





Times(3)               Ulm's Oberon System               Times(3)


       time value specified by _e_p_o_c_h, _s_e_c_o_n_d and _u_s_e_c.

       _S_e_t_V_a_l_u_e  and _G_e_t_V_a_l_u_e allow to access time measures which
       belong to _f_a_m_i_l_y but not necessarily to  _s_c_a_l_e.   _S_e_t_V_a_l_u_e
       normalizes  _v_a_l_u_e  in case of negative values of _s_e_c_o_n_d or
       _u_s_e_c.

SSEEEE AALLSSOO
       _C_l_o_c_k_s_(_3_)              general interface for clocks
       _O_p_e_r_a_t_i_o_n_s_(_3_)          operations for time measures
       _P_e_r_s_i_s_t_e_n_t_O_b_j_e_c_t_s_(_3_)   interface for persistent objects
       _S_c_a_l_e_s_(_3_)              general management of measure  sys­
                              tems and various error checks
       _T_i_m_e_C_o_n_d_i_t_i_o_n_s_(_3_)      conditions  which allow to wait for
                              a given time










































Release 0.5       Last change: 13 September 1996                2


